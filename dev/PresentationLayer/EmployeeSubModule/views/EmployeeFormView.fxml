<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="PresentationLayer.EmployeeSubModule.controllers.EmployeeFormController"
      spacing="20" styleClass="content-container">
    
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>
    
    <!-- Header with back button and actions -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Button text="← Back" onAction="#goBack" styleClass="secondary-button"/>
        <Pane HBox.hgrow="ALWAYS" />
        <Label fx:id="formTitleLabel" text="Add New Employee" styleClass="section-title"/>
    </HBox>
    
    <!-- Form Content -->
    <ScrollPane fitToWidth="true" styleClass="form-scroll-pane">
        <VBox spacing="20" styleClass="form-container">
            <!-- Basic Information Section -->
            <TitledPane text="Basic Information" expanded="true">
                <VBox spacing="15">
                    <!-- Israeli ID -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="Israeli ID *" styleClass="form-label"/>
                        <TextField fx:id="israeliIdField" promptText="Enter 9-digit ID" styleClass="form-input"/>
                        <Label fx:id="israeliIdErrorLabel" styleClass="error-label" visible="false"/>
                    </VBox>
                    
                    <!-- First Name -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="First Name *" styleClass="form-label"/>
                        <TextField fx:id="firstNameField" promptText="Enter first name" styleClass="form-input"/>
                        <Label fx:id="firstNameErrorLabel" styleClass="error-label" visible="false"/>
                    </VBox>
                    
                    <!-- Last Name -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="Last Name *" styleClass="form-label"/>
                        <TextField fx:id="lastNameField" promptText="Enter last name" styleClass="form-input"/>
                        <Label fx:id="lastNameErrorLabel" styleClass="error-label" visible="false"/>
                    </VBox>
                    
                    <!-- Branch -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="Branch *" styleClass="form-label"/>
                        <ComboBox fx:id="branchComboBox" promptText="Select branch" styleClass="form-input"/>
                        <Label fx:id="branchErrorLabel" styleClass="error-label" visible="false"/>
                    </VBox>
                    
                    <!-- Status -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="Status" styleClass="form-label"/>
                        <CheckBox fx:id="activeCheckBox" text="Active" selected="true"/>
                    </VBox>
                </VBox>
            </TitledPane>
            
            <!-- Employment Details Section -->
            <TitledPane text="Employment Details" expanded="true">
                <VBox spacing="15">
                    <!-- Bank Account -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="Bank Account" styleClass="form-label"/>
                        <HBox spacing="10">
                            <ComboBox fx:id="bankComboBox" promptText="Select bank" prefWidth="200"/>
                            <TextField fx:id="accountNumberField" promptText="Account number" HBox.hgrow="ALWAYS"/>
                        </HBox>
                    </VBox>
                    
                    <!-- Salary -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="Salary (₪)" styleClass="form-label"/>
                        <TextField fx:id="salaryField" promptText="Enter salary amount" styleClass="form-input"/>
                    </VBox>
                    
                    <!-- Employment Terms -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="Employment Terms" styleClass="form-label"/>
                        <ComboBox fx:id="employmentTermsComboBox" promptText="Select terms" styleClass="form-input"/>
                    </VBox>
                    
                    <!-- Start Date -->
                    <VBox spacing="5" styleClass="form-field">
                        <Label text="Start Date" styleClass="form-label"/>
                        <DatePicker fx:id="startDatePicker" promptText="Select start date" styleClass="form-input"/>
                    </VBox>
                </VBox>
            </TitledPane>
            
            <!-- Roles Section -->
            <TitledPane text="Roles" expanded="true">
                <VBox spacing="15">
                    <Label text="Assign roles to this employee" styleClass="form-subtitle"/>
                    
                    <VBox spacing="5" fx:id="rolesContainer">
                        <!-- Roles will be added here dynamically -->
                    </VBox>
                    
                    <Button text="Add Role" onAction="#addRole" styleClass="secondary-button"/>
                </VBox>
            </TitledPane>
        </VBox>
    </ScrollPane>
    
    <!-- Form Actions -->
    <HBox spacing="10" alignment="CENTER_RIGHT">
        <Button text="Cancel" onAction="#cancel" styleClass="secondary-button"/>
        <Button text="Save" onAction="#save" styleClass="primary-button"/>
    </HBox>
    
</VBox>