<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="PresentationLayer.EmployeeSubModule.controllers.EmployeeDetailsController"
      spacing="20" styleClass="content-container">
    
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>
    
    <!-- Header with back button and actions -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <Button text="← Back to List" onAction="#goBackToList" styleClass="secondary-button"/>
        <Pane HBox.hgrow="ALWAYS" />
        <Button text="Edit Employee" onAction="#editEmployee" styleClass="primary-button"/>
        <Button fx:id="toggleStatusButton" text="Deactivate" onAction="#toggleEmployeeStatus" styleClass="secondary-button"/>
    </HBox>
    
    <!-- Employee Details Header -->
    <HBox spacing="20" alignment="CENTER_LEFT">
        <VBox spacing="5">
            <Label fx:id="employeeNameLabel" text="John Doe" styleClass="employee-name"/>
            <Label fx:id="employeeIdLabel" text="ID: 123456789" styleClass="employee-id"/>
            <Label fx:id="employeeStatusLabel" text="Status: Active" styleClass="employee-status"/>
        </VBox>
    </HBox>
    
    <!-- Employee Details Tabs -->
    <TabPane styleClass="details-tabs">
        <!-- Basic Information Tab -->
        <Tab text="Basic Information" closable="false">
            <GridPane vgap="10" hgap="20">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                
                <columnConstraints>
                    <ColumnConstraints minWidth="150" />
                    <ColumnConstraints hgrow="ALWAYS" />
                </columnConstraints>
                
                <!-- Row 0 -->
                <Label text="First Name:" styleClass="detail-label" 
                       GridPane.rowIndex="0" GridPane.columnIndex="0" />
                <Label fx:id="firstNameLabel" text="John" styleClass="detail-value" 
                       GridPane.rowIndex="0" GridPane.columnIndex="1" />
                
                <!-- Row 1 -->
                <Label text="Last Name:" styleClass="detail-label" 
                       GridPane.rowIndex="1" GridPane.columnIndex="0" />
                <Label fx:id="lastNameLabel" text="Doe" styleClass="detail-value" 
                       GridPane.rowIndex="1" GridPane.columnIndex="1" />
                
                <!-- Row 2 -->
                <Label text="Israeli ID:" styleClass="detail-label" 
                       GridPane.rowIndex="2" GridPane.columnIndex="0" />
                <Label fx:id="israeliIdLabel" text="123456789" styleClass="detail-value" 
                       GridPane.rowIndex="2" GridPane.columnIndex="1" />
                
                <!-- Row 3 -->
                <Label text="Branch:" styleClass="detail-label" 
                       GridPane.rowIndex="3" GridPane.columnIndex="0" />
                <Label fx:id="branchLabel" text="Branch 1" styleClass="detail-value" 
                       GridPane.rowIndex="3" GridPane.columnIndex="1" />
                
                <!-- Row 4 -->
                <Label text="Bank Account:" styleClass="detail-label" 
                       GridPane.rowIndex="4" GridPane.columnIndex="0" />
                <Label fx:id="bankAccountLabel" text="Bank Leumi - 12345" styleClass="detail-value" 
                       GridPane.rowIndex="4" GridPane.columnIndex="1" />
                
                <!-- Row 5 -->
                <Label text="Salary:" styleClass="detail-label" 
                       GridPane.rowIndex="5" GridPane.columnIndex="0" />
                <Label fx:id="salaryLabel" text="₪5,000" styleClass="detail-value" 
                       GridPane.rowIndex="5" GridPane.columnIndex="1" />
                
                <!-- Row 6 -->
                <Label text="Employment Terms:" styleClass="detail-label" 
                       GridPane.rowIndex="6" GridPane.columnIndex="0" />
                <Label fx:id="employmentTermsLabel" text="Full-time" styleClass="detail-value" 
                       GridPane.rowIndex="6" GridPane.columnIndex="1" />
                
                <!-- Row 7 -->
                <Label text="Start Date:" styleClass="detail-label" 
                       GridPane.rowIndex="7" GridPane.columnIndex="0" />
                <Label fx:id="startDateLabel" text="2023-01-15" styleClass="detail-value" 
                       GridPane.rowIndex="7" GridPane.columnIndex="1" />
            </GridPane>
        </Tab>
        
        <!-- Roles Tab -->
        <Tab text="Roles" closable="false">
            <VBox spacing="10">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Assigned Roles" styleClass="section-subtitle"/>
                    <Pane HBox.hgrow="ALWAYS" />
                    <Button text="Manage Roles" onAction="#manageRoles" styleClass="secondary-button"/>
                </HBox>
                
                <ListView fx:id="rolesListView" VBox.vgrow="ALWAYS" />
            </VBox>
        </Tab>
        
        <!-- Shifts Tab -->
        <Tab text="Shifts" closable="false">
            <VBox spacing="10">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Upcoming Shifts" styleClass="section-subtitle"/>
                    <Pane HBox.hgrow="ALWAYS" />
                    <DatePicker fx:id="shiftDatePicker" promptText="Filter by date"/>
                    <Button text="View All Shifts" onAction="#viewAllShifts" styleClass="secondary-button"/>
                </HBox>
                
                <TableView fx:id="shiftsTableView" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="shiftDateColumn" text="Date" prefWidth="100"/>
                        <TableColumn fx:id="shiftTypeColumn" text="Type" prefWidth="100"/>
                        <TableColumn fx:id="shiftTimeColumn" text="Time" prefWidth="150"/>
                        <TableColumn fx:id="shiftBranchColumn" text="Branch" prefWidth="100"/>
                        <TableColumn fx:id="shiftRoleColumn" text="Role" prefWidth="150"/>
                    </columns>
                    <placeholder>
                        <Label text="No shifts found" />
                    </placeholder>
                </TableView>
            </VBox>
        </Tab>
        
        <!-- Availability Tab -->
        <Tab text="Availability" closable="false">
            <VBox spacing="10">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Weekly Availability" styleClass="section-subtitle"/>
                    <Pane HBox.hgrow="ALWAYS" />
                    <Button text="Update Availability" onAction="#updateAvailability" styleClass="secondary-button"/>
                </HBox>
                
                <GridPane fx:id="availabilityGrid" vgap="10" hgap="10" VBox.vgrow="ALWAYS">
                    <!-- This grid will be populated programmatically -->
                </GridPane>
            </VBox>
        </Tab>
    </TabPane>
</VBox>